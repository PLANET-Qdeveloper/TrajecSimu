<?xml version="1.0" ?>
<fdm_config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="PQ_ROCKET" version="2.0" xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd" release="ALPHA">

    <fileheader>
        <author> PLANET-Q </author>
        <author> K.Gentaro </author>
        <filecreationdate> 2025-05-02 </filecreationdate>
        <version>$Revision: 1.00 $</version>
        <description> Models a hybrid rocket. </description>
        <note>
           Automatically generated file. Hybrid rocket model.
           This is a simple model of a hybrid rocket.
        </note>
    </fileheader>

    <metrics>
        <wingarea  unit="M2">   0.015 </wingarea>
        <wingspan  unit="M" >   0.12 </wingspan>
        <wing_incidence>         0.0 </wing_incidence>
        <chord     unit="M" >   0.12 </chord>
        <htailarea unit="M2">   0 </htailarea>
        <htailarm  unit="M" >   0 </htailarm>
        <vtailarea unit="M2">   0 </vtailarea>
        <vtailarm  unit="M" >   0 </vtailarm>
        <location name="AERORP" unit="M">
            <x> 1.5 </x>
            <y> 0.0 </y>
            <z> 0.0 </z>
        </location>
        <location name="EYEPOINT" unit="M">
            <x> 0.0 </x>
            <y> 0.0 </y>
            <z> 0.0 </z>
        </location>
        <location name="VRP" unit="M">
            <x> 0.0 </x>
            <y> 0.0 </y>
            <z> 0.0 </z>
        </location>
    </metrics>

     
     <mass_balance>
        <documentation>
            The Center of Gravity location, empty weight, in aircraft's own
            structural coord system.
        </documentation>
        <ixx unit="KG*M2"> 0.05411 </ixx>
        <iyy unit="KG*M2"> 7.048 </iyy>
        <izz unit="KG*M2"> 7.048 </izz>
        <ixy unit="KG*M2">         0 </ixy>
        <ixz unit="KG*M2">         0 </ixz>
        <iyz unit="KG*M2">         0 </iyz>
        <emptywt unit="KG">  19.570 </emptywt>
        <location name="CG" unit="M">
            <x>  1.404 </x>
            <y> 0 </y>
            <z> 0 </z>
        </location>
    </mass_balance>

    <ground_reactions>
        <contact type="STRUCTURE" name="Default">
          <location unit="IN">
           <x> 0.0 </x>
           <y> 0.0 </y>
           <z> 0.0 </z>
          </location>
          <static_friction>  1.00 </static_friction>
          <dynamic_friction> 1.00 </dynamic_friction>
          <spring_coeff unit="LBS/FT">      10.00 </spring_coeff>
          <damping_coeff unit="LBS/FT/SEC"> 10.00 </damping_coeff>
        </contact>
    </ground_reactions>

    <external_reactions>
        <property>fcs/parachute_reef_pos_norm</property>
        <force name="parachute" frame="WIND">
            <function>
                <product>
                    <property> aero/qbar-psf </property>
                    <property> fcs/parachute_reef_pos_norm </property>
                    <value>  1.2 </value> 
                    <value>  1.18 </value> 
                </product>
            </function>

            <location unit="M">
                <x>2</x>
                <y>0</y>
                <z>0</z>
            </location>
            <direction>
                <x>-1</x>
                <y>0</y>
                <z>0</z>
            </direction>
        </force>
    </external_reactions>

    <propulsion>
        <tank type="FUEL" number="0">
            <location unit="M">
                <x>1.3</x>
                <y>0</y>
                <z>0</z>
            </location>
            <radius unit="M">0.132</radius>
            <capacity unit="KG"> 4.071</capacity>
            <contents unit="KG"> 4.070</contents>
            <density unit="KG/L"> 1.27</density>
        </tank>
        
        <engine file="PQ_ENGINE">
            <feed>0</feed>
            <location unit="M">
                <x>2.237</x>
                <y>0</y>
                <z>0</z>
            </location>
            <thruster file="PQ_NOZZLE">
                <location unit="M">
                    <x>2.0</x>
                    <y>0</y>
                    <z>0</z>
                </location>
            </thruster>
        </engine>
    </propulsion>
    <flight_control name="PQ_ROCKET_CONTROL">
        <channel name="chute">
            <fcs_function name="fcs/parachute_reef_pos_norm">
                <function>
                    <sum>
                        <property>inertia/weight-lbs</property>
                        <property>forces/fbz-buoyancy-lbs</property>
                    </sum>
                </function>
                <clipto>
                    <min>0.</min>
                    <max>1.</max>
                </clipto>
            </fcs_function>
            <pure_gain name="metrics/Schute-sqft">
                <input>fcs/parachute_reef_pos_norm</input>
                <gain> 8.0 </gain> <!-- Area of braking chute -->
            </pure_gain>
        </channel>
    </flight_control>

    <aerodynamics>
        <axis name="DRAG">
            <function name="aero/coefficient/CDmin">
                <description>Drag_minimum</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <value> 0.484 </value>
                </product>
            </function>
        </axis>

        <axis name="SIDE">
            <function name="aero/coefficient/CYb">
                <description>Side_force_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/beta-rad</property>
                    <value> -1</value>
                </product>
            </function>
        </axis>

        <axis name="LIFT">
            <function name="aero/coefficient/CLalpha">
                <description>Lift_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>aero/alpha-rad</property>
                    <value> 8.471</value>
                </product>
            </function>
        </axis>

        <axis name="ROLL">
            <function name="aero/coefficient/Clb">
                <description>Roll_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.00</value>
                </product>
            </function>
            <function name="aero/coefficient/Clp">
                <description>Roll_moment_due_to_roll_rate_(roll_damping)</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/p-rad_sec</property>
                    <value>-0.0423</value>
                </product>
            </function>
            <function name="aero/coefficient/Clr">
                <description>Roll_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-rad_sec</property>
                    <value>0.0000</value>
                </product>
            </function>
        </axis>
        <axis name="PITCH">
            <function name="aero/coefficient/Cmalpha">
                <description>Pitch_moment_due_to_alpha</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/alpha-rad</property>
                    <value>0.0</value>
                </product>
            </function>
            <function name="aero/coefficient/Cmq">
                <description>Pitch_moment_due_to_pitch_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/cbarw-ft</property>
                    <property>aero/ci2vel</property>
                    <property>velocities/q-aero-rad_sec</property>
                    <value> -2.488</value>
                </product>
            </function>
        </axis>
        <axis name="YAW">
            <function name="aero/coefficient/Cnb">
                <description>Yaw_moment_due_to_beta</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/beta-rad</property>
                    <value>0.0</value>
                </product>
            </function>
            <function name="aero/coefficient/Cnr">
                <description>Yaw_moment_due_to_yaw_rate</description>
                <product>
                    <property>aero/qbar-psf</property>
                    <property>metrics/Sw-sqft</property>
                    <property>metrics/bw-ft</property>
                    <property>aero/bi2vel</property>
                    <property>velocities/r-aero-rad_sec</property>
                    <value> -2.488</value>
                </product>
            </function>
        </axis>
    </aerodynamics>

</fdm_config>
